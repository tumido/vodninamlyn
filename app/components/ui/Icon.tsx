"use client";

import * as React from "react";

const PATH = {
  jacket:
    "m 57.347968,99.698913 c 0,0 -1.024944,-9.255329 -5.779764,-9.63294 -4.752892,-0.377612 -5.785543,0.822653 -5.779764,3.853176 0.0058,3.030523 3.575748,5.864533 5.779764,3.853176 2.204017,-2.009432 5.498483,-9.342026 3.853176,-13.486116 -1.643379,-4.142165 -16.996359,-35.231515 -17.339292,-40.458348 -0.342932,-5.224907 -1.662645,-12.453465 0,-13.486116 1.662646,-1.030725 5.779764,-3.853176 5.779764,-3.853176 L 38.082088,20.708805 41.935264,7.2226886 c 0,0 -19.452759,5.3212364 -21.192468,9.6329404 -1.737782,4.31363 -19.0192763,96.855361 -15.4127036,102.109161 3.6084994,5.25573 9.8044066,4.38299 13.4861156,3.85318 3.091691,-25.807131 7.944145,-49.853496 13.486116,-73.210345 0,0 1.465088,62.914105 -1.926588,73.210345 -0.955526,2.90072 1.63182,4.88775 11.559528,3.85317 9.929635,-1.03457 21.600905,-20.8476 21.192468,-30.825403 C 62.721222,85.869864 49.15523,24.982378 48.995506,17.120792 48.835782,9.2592064 54.415701,1.2716331 63.127732,1.3506232 73.821569,1.5819117 77.606263,11.235183 77.709724,17.10905 77.823738,23.582064 65.148723,87.648105 65.05432,95.845737 c -0.0944,8.199563 7.588831,31.786773 17.339292,30.825403 9.750462,-0.95944 7.6736,-0.81302 11.559528,-3.85317 3.885928,-3.03823 0,-71.283757 0,-71.283757 0,0 7.91635,70.409087 11.55953,71.283757 3.6451,0.8766 14.45326,1.0654 17.33929,-1.92659 C 125.73992,117.89939 107.66852,20.882198 105.51267,16.855629 103.35682,12.82906 87.633932,5.3519717 84.3202,5.2961006 81.008396,5.2402295 90.099964,20.708805 90.099964,20.708805 l -5.779764,5.779764 7.706352,3.853176 -11.559528,30.825408",
  rocket:
    "M 27.795569,93.530973 C 24.638746,91.424158 12.761138,108.73313 14.762556,109.9639 c 3.411249,-1.34013 9.09421,-1.64839 9.633096,1.13331 0.566653,2.92789 -6.23318,16.43293 -6.23318,16.43293 -0.979743,-0.90778 9.64103,-11.61808 15.299624,-10.19975 2.088682,0.52359 3.96657,5.09987 3.96657,5.09987 0.590452,2.30005 8.760451,-4.27992 9.633096,-10.19975 0.521321,-3.53931 4.171131,-11.43278 11.899708,-9.63309 8.258397,1.92322 8.215332,15.67248 8.499791,16.99958 0.283893,1.3271 25.603071,-18.64344 21.532805,-33.432512 C 84.923232,71.375417 64.40757,49.158096 43.661846,50.465364 20.961737,51.895596 10.416896,80.693455 11.362639,81.631266 12.015905,80.288718 53.289843,80.464528 54.428248,97.497543 54.668509,101.09465 45.167442,97.615406 39.128624,90.69771 30.992057,81.377405 47.956507,45.349057 69.211652,25.822769 83.894758,12.333601 103.09239,-0.03926202 116.76005,0.59992228 108.06533,63.091521 87.920825,81.094079 65.761303,91.264362",
  present:
    "m 11.245741,63.31163 c 0,0 -2.9348609,-17.828495 0,-20.70584 C 12.782575,41.098865 45.15117,40.437045 72.308796,34.480665 97.014697,29.061103 117.72667,18.511862 108.63987,7.3291745 93.86971,-10.848252 45.739369,25.502767 48.823006,39.538258 c 1.434838,6.531542 -3.28456,57.720212 2.015368,74.461262 1.366585,4.31756 26.515745,4.61204 27.893067,4.52768 6.717127,-0.41105 4.845933,-74.043314 3.834414,-78.988942 C 82.196985,37.733016 78.995248,29.669242 71.29421,21.862373 57.89293,8.2778087 35.534458,-6.0836083 24.282751,3.4947597 16.547203,10.079984 43.656515,29.804213 68.305667,37.85495 c 21.55708,7.040752 40.330373,2.808325 44.168623,3.983957 7.66499,2.347429 5.12661,1.332076 5.36818,3.067532 0.24156,1.735456 -0.49694,20.278686 -0.76689,21.472722 -0.26917,1.194037 -9.46103,1.208608 -10.73635,1.533766 -1.27456,0.325159 -81.988993,-2.700962 -83.590244,-2.300649 -1.600485,0.400313 -4.346693,1.717051 -4.601298,3.834415 -0.253839,2.117364 -0.04755,52.980107 5.36818,54.448687 5.416495,1.46858 65.635978,5.11511 75.154529,3.06753 9.519313,-2.04757 9.102133,-0.74464 9.969473,-3.06753 0.86735,-2.32289 1.53377,-44.479209 1.53377,-44.479209",
  globe:
    "m 46.753716,3.5000208 c 0,0 -44.9328725,12.9143042 -44.5320838,62.7497532 C 2.6224209,116.08522 41.019197,127.26885 64.971385,126.97534 88.923574,126.68183 127.83247,104.85707 125.69695,66.249774 123.56346,27.644506 93.901046,1.0608772 73.068129,1.4758352 52.237234,1.8907933 55.457713,7.7973668 54.850458,13.620949 c -0.605231,5.823581 16.903974,8.001605 16.193485,-2.024186 -0.71049,-10.0237668 -9.414487,8.764724 -14.169299,10.120928 -4.752788,1.356204 -13.67135,-6.143403 -16.193486,-2.024185 -2.52011,4.119217 3.775107,5.135358 4.048371,8.096742 0.273266,2.961383 -10.369901,7.667615 -8.096742,12.145114 2.273162,4.479523 4.080759,2.196241 8.096742,2.024185 4.015985,-0.170031 34.759315,-10.469088 34.411156,0 -0.348159,10.471113 -31.14412,0.692272 -34.411156,2.024186 -3.267034,1.333938 -14.60045,6.440958 -14.169298,16.193485 0.433176,9.75455 2.080862,11.720033 8.096742,12.145113 6.017904,0.427103 12.493273,9.639173 12.145114,16.193485 -0.346136,6.556337 4.285201,21.571744 10.120927,20.241854 5.837752,-1.32989 9.402343,-10.189749 14.1693,-16.193483 4.768981,-6.00171 13.829236,-4.011936 12.145113,0 -1.684122,4.01396 -4.716353,7.926713 -10.120927,8.096743 -5.402552,0.17206 -0.206468,-10.438725 2.024185,-16.193485 2.232677,-5.752735 -1.712461,-33.03471 -10.120927,-24.290227 -8.406444,8.746506 14.964803,16.436386 18.217669,14.169298 3.254892,-2.265063 10.220114,-5.884307 10.120929,-14.169298 -0.09919,-8.282967 -10.264646,-7.442931 -10.120929,-4.048372 0.145741,3.396584 13.074213,5.530075 20.241853,2.024187 7.16764,-3.503866 12.91228,9.05823 12.14511,12.145112",
  clock:
    "m 77.364897,13.947082 c 0,0 49.791113,3.3768 48.939123,48.939127 C 125.44981,108.44854 94.985208,124.17134 64.017862,125.17237 33.048293,126.1734 0.28132217,101.8462 1.7317,62.886209 3.1820777,23.926215 29.991822,1.919179 61.793357,2.8245529 93.594891,3.7299267 122.85827,25.216428 117.406,60.661704 111.95374,96.106979 92.934213,112.8753 66.242368,114.04984 39.550523,115.22438 12.327021,88.884009 12.854229,62.886209 13.650602,23.645927 41.198882,12.890442 61.793357,13.947082 c 2.72057,0.140144 2.393568,1.510439 2.44918,2.731693 0.371493,8.157263 -0.224675,46.207434 -0.224675,46.207434 0.785251,13.734099 -7.994873,9.923521 -9.436353,5.512326 -1.065539,-3.267799 2.682754,-5.950553 9.436353,-5.512326 h 28.918576",
  flame:
    "m 106.584,149.542 c 0,0 -7.445,3.76 -7,12 0.446,8.24 4.083,11.352 13,11 8.918,-0.352 15.249,-2.715 15,-13 -0.494,-20.474 -63.167,-25.22 -66,-5 -1.86,13.279 14,13 14,13 0,0 -39.555,6.809 -47,-1 -7.444,-7.809 -3.225,-30.028 -19,-30 -15.774,0.028 -8.368,32.005 6,31 9.076,-0.635 34.06,-11.065 53.59,-22.945 15.015,-9.134 30.463,-13.732 35.41,-15.055 13.711,-3.667 15.697,-17.077 10,-21 -5.84,-4.023 -23.113,4.872 -34,8 -10.822,3.109 -36.699,6.791 -36,-16 0.717,-23.364 11,-32 11,-32 0,0 13.91,14.497 12,31 -1.909,16.503 -9.912,23.748 -28,25 -18.087,1.252 -37.547,-15.128 -39,-39 -0.548,-9.013 1.706,-22.108 3,-22 2.486,4.895 7.695,20.724 20,19 13.664,-1.914 12.407,-13.372 16,-28 3.757,-15.292 -10.874,-55.521 -13,-54 40.499,10.775 60.434,40.748 64,86",
  tent: "M 72.8348,7.0691849 C 64.423492,55.705671 35.771811,87.015884 2.3977295,114.28313 -14.009745,115.96864 71.00593,101.63126 94.028255,113.03646 c 12.139485,6.01395 2.009015,12.20805 -3.831028,3.74625 C 83.026982,106.39231 71.518936,81.591606 68.471442,62.54617 64.878528,77.980615 57.71327,91.341218 46.65465,102.43973 c 20.138146,-1.91551 45.251143,-0.18825 81.0338,9.35006 C 104.88367,94.743391 82.508366,64.439244 60.991399,7.6925218",
  heart:
    "m 58.663729,114.7254 c 0,0 -55.3767707,-34.499453 -54.7074058,-75.624938 C 4.6047716,-0.65734174 36.339366,1.3003895 38.550715,1.2879896 40.762064,1.2755947 65.990501,-0.30174292 72.340578,38.295941 74.351066,50.513394 57.899426,43.547852 58.663729,35.882378 59.101395,31.504979 69.998616,2.6790053 97.280714,3.7015515 124.56363,4.7232933 123.07285,30.711724 123.8299,38.295941 127.7793,77.82205 77.281141,120.59276 60.272773,127.59774",
  mill: "m 27.328024,71.150206 c 1.398244,-2.020796 0.167508,-17.141376 1.537019,-16.909066 1.369614,0.232311 -0.505988,18.456156 1.328246,19.391817 1.834234,0.935661 24.343701,-1.051613 24.084898,-2.833475 -0.258904,-1.781863 -27.454217,2.503554 -27.626819,2.922019 -0.172602,0.418566 -1.385915,5.332545 -2.390761,4.338909 C 22.764955,76.581365 -0.06230758,77.675976 0.61842343,80.982428 1.0736706,83.193249 11.584399,77.573169 13.103587,80.185541 c 1.519291,2.612272 -0.844571,3.49118 0.796988,4.250265 1.641458,0.758983 5.061415,-1.803158 6.729568,-0.619903 1.668153,1.183357 6.880876,11.424891 9.740232,9.38606 2.859355,-2.038831 0.754704,-2.241084 3.364834,-3.18775 2.61003,-0.946562 0.303125,1.338232 2.567848,0.08864 2.264722,-1.249689 7.184,-7.500167 9.828774,-7.349471 2.644774,0.150697 13.675756,2.528313 13.459237,3.984635 -0.216619,1.456323 -10.676605,0.596774 -12.750894,1.416789 -2.074288,0.819914 -1.820072,3.903938 -3.453378,4.338808 -1.633205,0.434869 -1.326309,-0.791996 -2.479303,-0.53136 -1.152994,0.260637 -4.455574,3.352812 -0.531258,3.18775 3.924316,-0.165064 -1.751194,-3.311852 -3.010664,-2.302219 -1.259368,1.009634 -3.595616,6.927948 -2.567846,8.766165 1.02777,1.8382 5.632919,1.42494 5.57851,0 -0.05451,-1.42494 -10.205159,0.0184 -10.00586,1.68241 0.199298,1.66398 22.852634,2.21684 22.756653,3.80755 -0.09588,1.59072 -9.841308,1.28536 -9.385959,2.74494 0.455248,1.45968 16.842312,3.19631 18.417847,1.41679 1.575534,-1.77952 0.251568,-0.94656 2.036589,-1.50534 1.785021,-0.55866 9.448824,1.0127 9.563145,-0.97396 0.11422,-1.98667 -5.642702,0.11411 -5.135796,-2.21368 0.506906,-2.32779 12.348122,-0.31892 12.396621,-1.68242 0.0485,-1.3635 -2.814218,-0.26767 -2.833475,-1.8595 -0.01926,-1.59184 8.053738,0.50119 8.500528,-1.8595 0.446791,-2.360715 -3.713198,-1.355049 -3.453378,-0.6198 0.259822,0.73524 4.115565,0.14804 1.062617,-2.83359 -3.052947,-2.981625 -0.881964,-0.82511 -1.948046,-0.265629 -1.066081,0.559482 -2.886051,-0.547967 -3.984635,0.08854 -1.098584,0.636613 -3.951216,0.651285 -1.239703,1.505332 2.711512,0.854048 -1.100725,-3.040824 -2.744932,-2.302219 -1.644209,0.738605 -4.262288,0.622042 -3.984636,2.036589 0.277652,1.414547 1.921147,2.006027 2.036589,0.885432 0.115442,-1.120493 -1.759345,-2.098541 -3.18775,-1.15106 -1.428301,0.947379 -3.391733,2.379555 -4.604435,1.15106 -1.212702,-1.228395 -1.318362,-1.839331 -1.328245,-3.984638 -0.0098,-2.145204 1.607629,-2.314241 1.593874,-4.250264 -0.01365,-1.936023 0.315657,-1.613132 -0.885429,-3.099104 -1.201189,-1.485972 -1.189879,0.750119 -2.213675,-0.619902 -1.023899,-1.369919 -0.414389,-4.534743 1.682315,-5.578408 2.096807,-1.043768 -1.383267,-1.388055 0.619902,-2.922121 2.00317,-1.534065 3.655631,-1.439204 3.364734,-0.177085 -0.290796,1.262118 -3.566681,-0.625099 -2.213675,-2.390761 1.353107,-1.765663 2.773258,-0.08386 4.16172,-0.796988 1.388464,-0.71303 0.939127,-1.155644 2.745036,-1.062515 1.805908,0.09312 2.771831,2.255755 4.16172,0.6198 1.38989,-1.635955 1.744673,-2.854872 0.708344,-4.42735 -1.03633,-1.572478 -4.740969,-1.813958 -4.870064,-0.531258 -0.129096,1.282701 6.596804,0.926288 6.286853,-1.416789 -0.309952,-2.343076 -3.661133,-5.01485 -8.766157,-4.515892 -5.105024,0.498959 0.920072,2.158756 -2.833578,2.302218 -3.753547,0.143462 -2.762253,-0.547459 -2.213675,0.531258 0.54858,1.078714 0.945443,1.510018 -0.531258,2.567846 -1.476802,1.057828 -5.232285,2.206542 -6.109766,0.796988 C 57.11961,69.301282 56.518354,48.112522 57.731565,46.714582 58.944675,45.316542 83.743826,20.7712 81.196561,18.556506 80.108369,17.610248 74.39404,20.987513 68.070811,23.312657 59.59331,26.429999 50.09191,28.99805 49.850838,29.536338 49.646445,29.992706 45.509178,35.54554 39.532275,41.048243 33.198247,46.879951 25.016024,52.677118 25.23458,53.089979 c 0.424985,0.802389 30.970257,-6.75229 31.78854,-7.792185 0.490094,-0.622755 9.932499,-9.921495 16.847304,-18.203978 4.63001,-5.545701 7.394099,-11.368544 8.300211,-11.105157 0.887875,0.257987 3.201708,9.356409 7.667471,17.748322 4.462604,8.386106 11.077544,16.065702 11.016004,16.342437 -0.30252,1.361564 -9.482448,1.222483 -9.38606,0.177086 0.09649,-1.045398 3.930226,-1.3473 4.250366,0.177086 0.320039,1.524384 0.783743,3.103077 -0.354273,3.807549 -0.523514,0.324012 -8.877626,1.09512 -13.37365,10.204343 -6.785201,13.747282 0.147232,36.508418 7.529511,35.39751 C 90.211331,99.739063 85.132493,95.110474 83.69879,90.936628 81.192078,83.638714 80.126812,73.822167 83.272684,66.158569 86.437813,58.4481 94.804152,56.002521 97.04656,55.834912 c 5.67908,-0.424374 -1.236646,-1.067712 0.974075,-2.390762 2.210615,-1.323049 8.885695,-1.527649 10.493425,-1.43065 37.69684,8.602738 8.44765,-7.001569 1.68242,4.503318 -0.46752,1.348518 8.11413,8.454733 8.45568,15.787995 0.035,0.752563 -1.03777,8.459059 0.44271,8.500528 1.48047,0.04147 0.94799,-4.479314 0.53136,-5.844138 -0.41673,-1.364825 -2.89879,-2.334111 -3.71901,-1.416789 -0.82032,0.91732 0.43141,7.525435 -0.79699,8.146357 -1.22839,0.621023 -1.40547,-1.538243 -1.32814,0.265628 0.0773,1.803973 0.47583,1.177753 -0.35427,1.948046 -0.83,0.770395 -0.90551,-0.396864 -1.50524,0.974074 -0.59982,1.370938 2.43916,15.266881 -11.06847,15.584371 -13.507636,0.31749 -14.501783,-17.728353 -14.167582,-23.465098 0.334303,-5.736747 4.450479,-20.893482 14.079042,-20.542978 9.62856,0.350504 15.50387,15.112005 14.25612,16.381256 -1.24775,1.269251 -8.42371,2.08784 -9.4746,0.442714 -1.0508,-1.645125 -2.1447,-10.078507 -0.79689,-11.334105 1.34791,-1.255496 7.17238,9.297516 7.17238,9.297516 0,0 -3.02615,-12.497288 -10.18294,-11.688277 -7.156794,0.809012 -11.666371,13.394436 -10.891391,18.417845 0.774981,5.023411 4.773983,19.205868 9.651691,17.798046 4.87771,-1.407721 0.53125,-0.796886 0.53125,-0.796886 0,0 0.66851,-12.029204 -0.53125,-13.901953 -1.199765,-1.872749 -9.33695,1.53539 -8.943347,-3.364835 0.393705,-4.900123 7.034833,-2.343382 8.146454,-3.719007 1.111633,-1.375523 0.175157,-13.004806 1.151063,-12.927878 0.97601,0.07693 0.15334,35.181905 1.59387,35.153375 1.44053,-0.02863 6.35909,-1.761484 7.34948,-5.401424 0.99026,-3.639939 -1.11398,3.662661 -3.80755,2.833475 -2.69368,-0.829084 -2.39229,-12.0614 -0.35418,-13.636324 2.03801,-1.57482 10.89272,-1.001686 11.59964,-0.08854 2.56076,4.851003 -3.16552,5.730393 -4.60444,9.031888",
};

export interface IconProps {
  icon: keyof typeof PATH;
  delay?: number;
  animate?: boolean;
}

const Icon = ({ icon, delay = 0.1, animate = true }: IconProps) => {
  const pathRef = React.useRef<SVGPathElement>(null);
  const [pathLength, setPathLength] = React.useState(0);
  const [strokeWidthMultiplier, setStrokeWidthMultiplier] = React.useState(0);
  const [isVisible, setIsVisible] = React.useState(false);
  const ref = React.useRef<HTMLDivElement>(null);

  React.useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
        }
      },
      { threshold: 1 }
    );

    if (ref.current) {
      observer.observe(ref.current);
    }

    return () => observer.disconnect();
  }, []);

  React.useEffect(() => {
    if (pathRef.current) {
      const length = pathRef.current.getTotalLength();
      setPathLength(length);
    }
    if (ref.current) {
      const strokeWidthMultiplier = 128 / ref.current.clientWidth;
      setStrokeWidthMultiplier(strokeWidthMultiplier);
    }
  }, []);

  return (
    <div ref={ref}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlSpace="preserve"
        style={{
          fillRule: "evenodd",
          clipRule: "evenodd",
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeMiterlimit: 1.5,
        }}
        viewBox="0 0 128 128"
      >
        <path
          ref={pathRef}
          d={PATH[icon]}
          className="stroke-palette-dark-green"
          style={{
            fill: "none",
            strokeWidth: `calc(${strokeWidthMultiplier} * .1rem)`,
            strokeDasharray: pathLength,
            strokeDashoffset: pathLength,
            animation:
              animate && isVisible
                ? `draw-line 1s cubic-bezier(0.52, 0, 0.51, 0.98) ${delay}s forwards`
                : "",
          }}
        />
      </svg>
    </div>
  );
};
export default Icon;
