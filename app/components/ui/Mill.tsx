"use client";

import { WEDDING_INFO } from "@/app/lib/constants";
import * as React from "react";

const Mill = () => {
  const pathRef = React.useRef<SVGPathElement>(null);
  const [pathLength, setPathLength] = React.useState(0);

  React.useEffect(() => {
    if (pathRef.current) {
      const length = pathRef.current.getTotalLength();
      setPathLength(length);
    }
  }, []);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      xmlSpace="preserve"
      style={{
        fillRule: "evenodd",
        clipRule: "evenodd",
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeMiterlimit: 1.5,
      }}
      viewBox="0 0 1000 800"
    >
      <defs>
        <path id="top" d="M 370,400 A 100 100 0 0 1 630,400" fill="black" />
        <path id="bottom" d="M 370,400 A 100 100 0 0 0 630,400" fill="black" />
      </defs>
      <text className="fill-amber-100/90 uppercase text-lg animate-appear">
        <textPath href="#top" startOffset="50%" textAnchor="middle">
          {WEDDING_INFO.couple.heading}
        </textPath>
      </text>
      <text className="fill-amber-100/90 uppercase text-lg animate-appear">
        <textPath
          href="#bottom"
          startOffset="50%"
          textAnchor="middle"
          dominantBaseline="hanging"
        >
          {WEDDING_INFO.date.display} Â· {WEDDING_INFO.venue.name}
        </textPath>
      </text>
      <text
        x="50%"
        y="410"
        textAnchor="middle"
        className="text-6xl font-serif uppercase font-semibold fill-amber-50 animate-appear"
      >
        {WEDDING_INFO.couple.groom}
        <tspan className="fill-amber-100 text-3xl"> & </tspan>
        {WEDDING_INFO.couple.bride}
      </text>
      <path
        ref={pathRef}
        d="m 26.254258,345.70725 c 8.74583,3.47306 20.994268,8.35406 17.957953,13.26293 -3.036316,4.90887 -10.946184,-10.51581 -17.177285,-6.87703 -6.231101,3.63847 -14.782264,12.83876 -18.7386232,8.35072 -3.9563592,-4.48834 -7.74997239,-2.98708 -5.0750615,-11.78924 2.6749098,-8.80215 6.0261726,-3.16886 7.0268767,-7.85958 1.000989,-4.69074 -0.8718759,-12.59062 2.342576,-10.80669 3.214454,1.78396 2.641564,7.01066 5.465255,2.45627 2.823975,-4.5547 4.311209,-17.36831 18.34843,-6.3859 14.037223,10.9821 -17.143936,5.88416 -4.294391,-12.28037 12.849829,-18.16453 16.771131,9.24542 10.5406,-9.82441 -6.230532,-19.06953 4.282991,5.95718 3.903914,-13.26293 -0.379076,-19.2198 1.64371,-15.91369 3.903917,-6.87672 2.259921,9.03667 10.178054,10.35098 8.198023,1.96482 -1.980031,-8.38648 -7.553024,-14.13975 -1.171149,-16.21031 6.38188,-2.07026 12.271815,0.55991 9.759933,6.38589 -2.512165,5.826 3.11498,14.86297 5.855735,12.7715 2.740744,-2.09116 8.59504,-8.42373 5.075053,2.94739 -3.519992,11.37113 -13.91095,17.99485 -6.63668,15.71887 7.274554,-2.27567 14.126425,-1.58397 10.931066,3.43853 -3.195636,5.02248 -3.36322,11.20841 1.951822,10.31553 5.315046,-0.89288 10.634082,2.91831 6.636679,8.84184 -3.997403,5.92356 -11.803802,19.56279 -24.59463,17.6837 -12.790828,-1.87877 18.944971,-13.59346 28.888739,-6.87701 9.94405,6.71675 26.30332,39.93058 32.46802,28.72003 6.16441,-11.21024 1.37921,-126.54879 7.41735,-125.25991 6.03814,1.28888 -2.23084,102.38556 5.85573,107.5762 8.08687,5.19065 107.32732,-5.83417 106.1861,-15.71888 -1.14122,-9.8847 -121.04075,13.88858 -121.80147,16.21001 -0.76101,2.32174 -6.11055,29.58201 -10.54061,24.0696 -6.59392,-8.20468 -69.042877,-3.34397 -66.041334,14.99841 2.006824,12.26429 48.346757,-18.91291 55.044994,-4.42109 6.69797,14.49211 -3.72377,19.36768 3.51344,23.57846 7.23693,4.21052 22.31504,-10.00285 29.66969,-3.4385 7.35438,6.56405 -7.85628,64.59099 4.75015,53.28077 12.60613,-11.31023 3.32732,-12.43277 14.8347,-17.68401 11.50768,-5.25095 1.33674,7.4236 11.32128,0.49143 9.9848,-6.93216 31.67309,-41.60696 43.33326,-40.77104 11.66015,0.83621 60.29392,14.02583 59.33911,22.10478 -0.95453,8.07895 -47.07073,3.31066 -56.21588,7.85958 -9.14542,4.54864 -8.02444,21.65699 -15.22518,24.0693 -7.20102,2.41264 -5.84775,-4.39289 -10.93107,-2.94708 -5.08333,1.44581 -19.64413,18.59931 -2.3423,17.6837 17.30184,-0.91591 -7.72089,-18.37267 -13.27336,-12.7715 -5.55219,5.60089 -15.85252,38.43265 -11.32126,48.63034 4.53152,10.19739 24.83461,7.90474 24.59462,0 -0.23998,-7.90503 -44.99264,0.1022 -44.11392,9.33298 0.87843,9.23087 100.75305,12.29794 100.33009,21.12222 -0.42298,8.82427 -43.38857,7.13032 -41.38146,15.22775 2.0074,8.09742 74.25477,17.73126 81.20099,7.85928 6.9465,-9.87167 1.10929,-5.25093 8.97898,-8.35041 7.86995,-3.09979 24.84231,-7.41058 25.34594,-18.43146 0.50363,-11.02119 -24.87738,0.63293 -22.64253,-12.28068 2.23483,-12.91328 54.44077,-1.76879 54.65452,-9.33297 0.21376,-7.56418 -12.40775,-1.48459 -12.4924,-10.31554 -0.0849,-8.83095 35.50747,2.78044 37.47724,-10.31555 1.97005,-13.09598 -16.37068,-7.51721 -15.22519,-3.4385 1.1455,4.0787 18.14464,0.82168 4.68487,-15.71888 -13.46005,-16.54057 -3.88852,-4.57711 -8.58878,-1.4737 -4.69998,3.10372 -12.72414,-3.04009 -17.56747,0.49143 -4.84334,3.53124 -17.41985,3.61243 -5.46526,8.35041 11.95457,4.738 -4.85332,-16.86897 -12.10223,-12.77147 -7.2489,4.09747 -18.79164,3.45092 -17.56747,11.29809 1.22416,7.84686 8.46992,11.12813 8.97897,4.91191 0.50876,-6.21593 -7.75681,-11.64168 -14.05403,-6.3856 -6.29723,5.25579 1.8626,26.22864 -3.48408,19.41372 -5.3467,-6.81462 -5.81241,-10.20375 -5.85603,-22.10448 -0.0433,-11.90104 7.0876,-12.83845 7.02717,-23.57848 -0.0604,-10.74002 1.39175,-8.9491 -3.90391,-17.19256 -5.29567,-8.24347 -5.2458,4.16143 -9.75965,-3.43851 -4.51386,-7.59994 -1.82697,-25.1564 7.41735,-30.94664 9.24434,-5.78994 -6.09913,-7.69992 2.73277,-16.21001 8.83163,-8.51009 16.11701,-7.98381 14.83471,-0.98256 -1.28231,7.00155 -15.72511,-3.4676 -9.75965,-13.26263 5.96546,-9.79532 12.22678,-0.46507 18.34816,-4.42107 6.12165,-3.956 4.14047,-6.41135 12.10221,-5.89446 7.96174,0.51657 12.2205,12.51365 18.34816,3.43851 6.12792,-9.07545 7.6921,-15.83735 3.12323,-24.56073 -4.56887,-8.72339 -20.90249,-10.06316 -21.47139,-2.94739 -0.56918,7.11579 29.08398,5.13885 27.7176,-7.85958 -1.36637,-12.99843 -16.14152,-27.81988 -38.64867,-25.05186 -22.50715,2.76801 4.05668,11.97556 -12.49242,12.7715 -16.54881,0.79591 -12.17833,-3.03677 -9.75964,2.94737 2.41867,5.98384 4.1684,8.37709 -2.3423,14.24519 -6.511,5.8684 -23.06806,12.24067 -26.93692,4.42107 -3.86887,-7.81989 -6.51984,-125.36412 -1.17115,-133.11949 5.34868,-7.75536 114.68368,-143.920418 103.45304,-156.206538 -4.79773,-5.249121 -29.9912,13.485919 -57.86927,26.384968 -37.37549,17.293464 -79.26542,31.53926 -80.32853,34.52573 -0.90124,2.53139 -19.14137,33.33562 -45.49229,63.86202 -27.92595,32.35094 -63.99977,64.51101 -63.03583,66.80122 1.87345,4.45138 136.54214,-37.45826 140.14963,-43.22699 2.16102,-3.45488 43.79043,-55.03927 74.27671,-100.9861 20.41283,-30.764845 32.59942,-63.067003 36.59397,-61.606036 3.91474,1.431578 14.1159,51.904629 33.80449,98.458646 19.67491,46.5219 48.8387,89.12415 48.56765,90.65935 -1.33362,7.55327 -41.80643,6.78158 -41.38117,0.98225 0.42497,-5.79933 17.3272,-7.4739 18.73862,0.98257 1.41142,8.45646 3.45559,17.21438 -1.56162,21.12221 -2.30808,1.79788 -173.51517,19.36008 7.41735,8.84186 25.08117,-1.45794 -5.45214,-5.92325 4.2944,-13.26294 9.74653,-7.33937 63.71018,-21.92723 201.05264,-18.05636 7.10383,0.20027 219.27451,25.05792 217.5111,34.78114 -1.76312,9.72291 -43.46921,10.78 -42.55231,4.9122 0.91663,-5.86811 13.14768,-8.33345 14.05405,0 0.90606,8.33345 -16.49325,13.65104 -16.00615,20.63108 0.48739,6.97975 4.52384,10.76669 5.07506,5.40335 0.55151,-5.36365 -12.51521,-9.65566 -14.83471,-2.94739 -2.31948,6.70797 -11.08754,6.73433 -6.63668,5.40334 4.45116,-1.33099 -2.75072,-3.62758 -5.85573,0.49113 -3.10501,4.1187 -3.92786,18.50053 2.34229,18.17514 6.27015,-0.32572 3.55391,-11.45263 4.2944,-5.89478 0.74048,5.55816 -20.26718,-4.6883 -22.25235,1.47369 -1.98515,6.162 2.49364,7.37877 -3.12296,13.75406 -5.6166,6.37529 -14.34703,1.34765 -16.00614,7.36816 -1.65882,6.02081 0.38962,16.21758 4.68487,15.22775 4.29496,-0.98953 5.12323,-3.68726 2.34229,-8.84185 -2.78122,-5.15459 -13.81833,2.21114 -13.66384,6.3859 0.15476,4.17475 -4.57515,46.92668 1.9521,47.15664 6.52723,0.22996 4.17953,-24.84887 2.34229,-32.42032 -1.83725,-7.57147 -12.22307,1.96421 -14.86748,9.5693 -2.64441,7.60509 1.21019,12.87299 4.32688,17.93882 3.11698,5.0658 2.36851,27.97439 -1.56134,31.43774 -3.93014,3.46367 -7.83748,-2.48412 -11.32127,1.4737 -3.48407,3.95782 1.88313,5.45574 -1.95209,12.77179 -3.83523,7.31575 -3.67562,-0.74623 -5.46555,4.42079 -1.78963,5.16701 -0.5136,44.31044 -15.22518,55.99848 -14.71129,11.68804 -5.42478,22.44291 -5.85574,29.47293 -0.43094,7.03034 -112.53804,5.66723 -112.34252,17.33074 0.19552,11.66319 19.45887,2.44291 19.1291,10.31554 -0.32977,7.87232 -10.7461,1.43006 -9.36917,9.33298 1.37666,7.90292 180.63269,24.79736 179.87967,7.72143 -0.75274,-17.07592 -30.70233,-5.04703 -29.6697,-16.70144 1.03291,-11.6541 130.51966,-3.7827 130.39026,-17.19226 -0.12939,-13.40987 -70.80147,-14.08068 -69.87971,-7.36847 0.92175,6.71221 17.8485,2.52474 19.1291,-7.85929 1.2803,-10.38401 -19.10916,-19.64883 -18.73862,-8.35071 0.37024,11.2981 23.151,-2.64896 7.80753,-20.6311 -15.34318,-17.98213 -1.06198,10.44978 -8.97896,-1.47369 -7.91672,-11.92345 8.60872,-11.6447 -3.12297,-11.2978 -11.7317,0.34692 -6.29553,5.82842 -8.97898,-3.43851 -2.68347,-9.26693 8.57681,-5.67208 0,-9.33329 -8.57682,-3.66089 -11.83829,-2.3796 -15.22519,4.42109 -3.38688,6.80067 0.92974,8.40767 -2.34228,15.22773 -3.27203,6.81977 -3.10359,-4.0784 -7.41736,0 -4.31406,4.07812 5.49005,4.40926 -0.78096,9.82412 -6.27099,5.41485 -3.54336,-2.32082 -10.15012,2.45625 -6.60676,4.77708 4.37962,1.88424 -1.17115,6.87703 -5.55075,4.9925 -2.98558,-6.77766 -6.2462,1.4737 -3.26063,8.25104 7.59492,13.02478 -2.34229,14.73632 -9.93721,1.71153 -15.20182,-2.98981 -14.44452,-19.64854 0.75758,-16.65872 16.31054,-13.08083 16.39633,-8.35071 0.0861,4.73011 -10.96128,4.49257 -5.07505,-9.82442 5.88621,-14.31699 8.29406,4.26504 12.49269,-4.42077 4.19834,-8.68612 4.14761,-1.62911 7.02688,-10.31554 2.87927,-8.68672 -8.05865,-2.30174 -4.29439,-14.24519 3.76424,-11.94375 18.16145,-18.34419 18.34842,-13.26293 0.18698,5.08127 -17.0322,9.20907 -10.15012,-13.75405 6.88209,-22.96313 15.69091,-15.84583 14.44452,-9.82442 -1.24668,6.02172 -15.34632,1.71395 -5.46553,-11.2978 9.88077,-13.01206 11.50167,9.51568 18.73862,2.45596 7.23693,-7.05974 19.52242,7.26181 10.5406,6.38589 -8.98183,-0.87622 -3.22444,-9.19876 2.73276,-12.28036 5.9572,-3.08161 1.47156,6.52678 7.41736,0.49112 5.9455,-6.03535 -4.78291,-4.55196 0.39048,-10.31554 5.1731,-5.76327 24.36604,-4.6271 22.25205,1.4737 -2.11399,6.1008 -17.79207,-30.89512 -16.39633,-38.31479 1.39574,-7.41966 12.92935,-4.69558 12.8829,1.47369 -0.0465,6.16897 -11.56952,3.30369 -8.97897,-11.78924 2.59054,-15.09292 -2.79434,-14.92477 1.9518,-18.66626 4.74615,-3.74149 5.02861,4.28534 8.58879,-2.94739 3.5599,-7.23241 -3.23156,-23.06552 2.34229,-30.45519 5.57385,-7.38967 19.23911,-5.47847 17.95796,2.45596 -1.28145,7.93472 -15.1659,-5.9587 -7.41764,-12.28037 7.74855,-6.32137 3.93356,2.64774 9.36944,-2.94708 5.43591,-5.59513 -3.45813,-4.15537 1.17115,-9.82442 4.62958,-5.66905 5.35639,4.75133 8.5885,-4.9122 5.30935,-15.8731 -54.12467,-43.79175 -65.58531,-45.68296 -10.90202,-1.79909 23.9066,-17.64158 23.81368,-9.33327 -0.0926,8.30831 -11.44297,-1.1492 4.29439,-10.80667 15.73736,-9.65717 5.35609,10.94513 8.97898,-1.96483 3.62288,-12.90995 -5.61717,-1.97997 0.39047,-8.84185 6.00736,-6.86219 6.86327,4.00751 10.15012,-0.98255 3.28658,-4.99008 -1.54138,-13.09751 5.85575,-17.6837 7.39682,-4.5862 0.88441,9.26328 5.46553,3.43851 4.58083,-5.82478 1.75686,-11.25631 6.63639,-12.28037 4.87983,-1.02407 10.25445,-1.19192 8.19832,3.4385 -2.05614,4.63044 -8.71107,-9.87106 0.78066,-13.75405 9.49201,-3.883 10.49699,-1.13012 10.93107,6.38591 0.4338,7.516 -2.3742,10.12648 1.17115,17.19256 3.54537,7.0658 4.85816,-6.7831 5.07507,3.92965 0.21689,10.71275 -6.00935,1.53944 -1.56162,10.31554 4.44801,8.77611 4.84419,-1.72486 6.2462,5.40335 1.40201,7.12819 -5.02034,3.1134 -0.39048,7.36814 4.62987,4.25475 15.09664,-8.44281 11.71175,18.66627 -3.38489,27.10909 -10.79598,-19.31433 4.2944,-12.77149 15.09036,6.54284 -0.69004,8.3186 8.58849,14.24518 9.27854,5.92659 13.63963,10.10981 11.32128,19.1574 -2.31835,9.04758 -10.93137,8.55099 -8.19803,-1.96483 2.73306,-10.5158 13.43811,0.0796 14.83471,10.31555 1.39659,10.23555 -10.70962,25.15154 -10.93079,15.22774 -0.22119,-9.92409 14.70388,-20.72137 25.3753,-20.63108 10.67113,0.09 12.24873,16.05277 26.54645,16.21002 14.2975,0.15723 -2.76725,-2.96255 9.75969,-3.43853"
        className="stroke-amber-100/30"
        style={{
          fill: "none",
          strokeWidth: ".1em",
          strokeDasharray: pathLength,
          strokeDashoffset: pathLength,
          animation: `draw-line 3s cubic-bezier(0.52, 0, 0.51, 0.98) .5s forwards`,
        }}
      />
    </svg>
  );
};
export default Mill;
